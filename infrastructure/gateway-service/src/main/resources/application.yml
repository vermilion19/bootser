server:
  port: 6000

spring:
  application:
    name: gateway-service
  threads:
    virtual:
      enabled: true
  cloud:
    gateway:
      server:
        webflux:
          routes:
            - id: waiting-service-route
              uri: lb://waiting-service
              predicates:
                - Path=/waitings/**

            - id: restaurant-service-route
              uri: lb://restaurant-service
              predicates:
                - Path=/restaurants/**

            - id: auth-service-route
              uri: lb://auth-service
              predicates:
                - Path=/auth/**

            - id: auth-oauth2-route
              uri: lb://auth-service
              predicates:
                - Path=/oauth2/**

            - id: auth-oauth2-callback-route
              uri: lb://auth-service
              predicates:
                - Path=/login/oauth2/**

            - id: promotion-service-route
              uri: lb://promotion-service
              predicates:
                - Path=/coupons/**

            - id: d-day-service-route
              uri: lb://d-day-service
              predicates:
                - Path=/api/v1/special-days/**

eureka:
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka/

management:
  endpoints:
    web:
      exposure:
        include: gateway, health, prometheus, metrics
  endpoint:
    gateway:
      enabled: true
    prometheus:
      enabled: true
    health:
      show-details: always

app:
  jwt:
    secret: ${JWT_SECRET:vMFZ7YkY5+JjK3Hq8Lw9XzC2Vb4N/mQaR1TsD6EfG8UoWpI0OxLrYtZ3V5KjH9NcXyZ1QaW2EcR4VtB6NkM8==}
    expiration: 3600000

gateway:
  jwt:
    filter:
      enabled: true
    exclude-paths:
      - /auth/**
      - /oauth2/**
      - /login/oauth2/**
      - /actuator/**